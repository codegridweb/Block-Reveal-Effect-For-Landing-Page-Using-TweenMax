<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>GSAP BLOCK REVEAL</title>
		<link rel="stylesheet" href="styles.css" />
		<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.1.3/TweenMax.min.js"></script>
	</head>
	<body>
		<div class="container">
			<h1 class="ml11">
				<span class="text-wrapper">
					<span class="line line1"></span>
					<span class="letters">codegrid</span>
				</span>
			</h1>
			<ul class="blocks">
				<li class="block-1"></li>
				<li class="block-2"></li>
				<li class="block-3"></li>
				<li class="block-4"></li>
				<li class="block-5"></li>
				<li class="block-6"></li>
			</ul>
		</div>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/2.0.2/anime.min.js"></script>

		<script>
			TweenMax.staggerTo(
				"li",
				2,
				{
					delay: 0.4,
					ease: Expo.easeInOut,
					scaleY: 0.3,
				},
				0.1
			);

			TweenMax.to("li", 2, {
				delay: 2.8,
				ease: Expo.easeInOut,
				width: "10px",
			});

			TweenMax.staggerTo(
				"li",
				1.6,
				{
					delay: 4.8,
					ease: Expo.easeInOut,
					y: "100%",
				},
				0.06
			);

			// Wrap every letter in a span
			var textWrapper = document.querySelector(".ml11 .letters");
			textWrapper.innerHTML = textWrapper.textContent.replace(
				/([^\x00-\x80]|\w)/g,
				"<span class='letter'>$&</span>"
			);

			anime
				.timeline()
				.add({
					targets: ".ml11 .line",
					scaleY: [0, 1],
					opacity: [0.5, 1],
					easing: "easeOutExpo",
					duration: 700,
					delay: 6000,
				})
				.add({
					targets: ".ml11 .line",
					translateX: [
						0,
						document.querySelector(".ml11 .letters").getBoundingClientRect()
							.width + 10,
					],
					easing: "easeOutExpo",
					duration: 700,
					delay: 100,
				})
				.add({
					targets: ".ml11 .letter",
					opacity: [0, 1],
					easing: "easeOutExpo",
					duration: 600,
					offset: "-=775",
					delay: (el, i) => 34 * (i + 1),
				})
				.add({
					targets: ".ml11",

					duration: 1000,
					easing: "easeOutExpo",
					delay: 1000,
				});
		</script>
	</body>
</html>
